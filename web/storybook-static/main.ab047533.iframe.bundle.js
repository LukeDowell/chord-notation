(self.webpackChunkflash_chords=self.webpackChunkflash_chords||[]).push([[179],{"./src/components/game/Game.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GameStory:function(){return GameStory},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Game_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Game(_ref){var piano=_ref.piano,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),setActiveNotes=(_useState2[0],_useState2[1]);return(0,react.useEffect)((function(){if(piano)return piano.setListener("Game",setActiveNotes),function(){return piano.removeListener("Game")}}),[piano]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}try{Game.displayName="Game",Game.__docgenInfo={description:"",displayName:"Game",props:{piano:{defaultValue:null,description:"",name:"piano",required:!0,type:{name:"MIDIPiano"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/game/Game.tsx#Game"]={docgenInfo:Game.__docgenInfo,name:"Game",path:"src/components/game/Game.tsx#Game"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),Note=__webpack_require__("./src/music/Note.tsx"),MIDI_KEY_DOWN=144,MIDI_KEY_UP=128,MIDI_HEARTBEAT=254,MIDIPiano=function(){function MIDIPiano(midiInput){var _this=this;(0,classCallCheck.Z)(this,MIDIPiano),this.activeNotes=[],this.listeners=new Map,null==midiInput||midiInput.addEventListener("midimessage",(function(e){var note=Note.sd[e.data[1]-21],flag=e.data[0];if(flag===MIDI_KEY_DOWN&&0!==e.data[2])_this.activeNotes.push(note);else if(flag===MIDI_KEY_UP||flag===MIDI_KEY_DOWN&&0===e.data[2]){var arrayWithoutNote=_this.activeNotes.filter((function(i){return i!==note}));_this.activeNotes=Array.from(new Set(arrayWithoutNote))}flag!==MIDI_HEARTBEAT&&_this.notifyListeners()}))}return(0,createClass.Z)(MIDIPiano,[{key:"notifyListeners",value:function notifyListeners(){var _this2=this;this.listeners.forEach((function(v,k){return v.call(v,_this2.activeNotes)}))}},{key:"removeListener",value:function removeListener(key){this.listeners.delete(key)}},{key:"setListener",value:function setListener(key,callback){this.listeners=new Map([].concat((0,toConsumableArray.Z)(this.listeners),[[key,callback]]))}}]),MIDIPiano}(),Game_stories={title:"Game",component:Game},Container=(0,emotion_styled_browser_esm.Z)("div")({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"fit-content",height:"fit-content"}),GameTemplate=function GameTemplate(args,_ref){var piano=_ref.loaded.piano;return(0,jsx_runtime.jsx)(Container,{children:(0,jsx_runtime.jsx)(Game,{piano:piano})})};GameTemplate.loaders=[(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{piano:navigator.requestMIDIAccess().then((function(m){if(0===m.inputs.size)throw new Error("No MIDI Input Device!");var firstInputKey=m.inputs.keys().next().value,firstInput=m.inputs.get(firstInputKey);return new MIDIPiano(firstInput)}))});case 1:case"end":return _context.stop()}}),_callee)})))];var GameStory=GameTemplate.bind({});GameStory.parameters=(0,objectSpread2.Z)({storySource:{source:"(args, { loaded: { piano }}) => {\r\n  return <Container>\r\n    <Game piano={piano}/>\r\n  </Container>;\r\n}"}},GameStory.parameters);var __namedExportsOrder=["GameStory"]},"./src/components/measure/Measure.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Bass:function(){return Bass},Key:function(){return Key},Treble:function(){return Treble},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Measure_stories}});var _defs,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),Note=__webpack_require__("./src/music/Note.tsx"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),lodash_default=__webpack_require__.n(lodash),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_excluded=["title","titleId"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SvgWholeNote(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=_objectWithoutProperties(_ref,_excluded);return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.5 11.003",id:"svg1437",ref:svgRef,"aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,_defs||(_defs=react.createElement("defs",{id:"defs1440"})),react.createElement("path",{d:"M 9.125,0.0030002594 C 4.03428,0.18520026 0,2.5856003 0,5.5030003 C 0,8.5390003 4.368,11.003 9.75,11.003 C 15.132,11.003 19.5,8.5390003 19.5,5.5030003 C 19.5,2.4670003 15.132,0.0030002594 9.75,0.0030002594 C 9.53977,0.0030002594 9.33194,-0.0043997406 9.125,0.0030002594 z M 7.5,1.0655003 C 8.8579,0.92650026 10.56798,1.5561003 12,2.8467003 C 14.14502,4.7799003 14.87122,7.4906003 13.625,8.9092003 L 13.59375,8.9405003 C 12.32289,10.3506 9.53145,9.9153003 7.375,7.9717003 C 5.21855,6.0282003 4.51039,3.2881003 5.78125,1.8780003 C 6.20818,1.4043003 6.81306,1.1358003 7.5,1.0655003 z ",style:{opacity:1,fill:"#000000",fillOpacity:1,fillRule:"nonzero",stroke:"none",strokeWidth:.2,strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},id:"path3937"}))}var accidental_sharp_defs,_tspan,ForwardRef=react.forwardRef(SvgWholeNote),accidental_sharp_excluded=(__webpack_require__.p,["title","titleId"]);function accidental_sharp_extends(){return accidental_sharp_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},accidental_sharp_extends.apply(this,arguments)}function accidental_sharp_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function accidental_sharp_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SvgAccidentalSharp(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=accidental_sharp_objectWithoutProperties(_ref,accidental_sharp_excluded);return react.createElement("svg",accidental_sharp_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1.1 3.0000001",id:"svg3019",ref:svgRef,"aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,accidental_sharp_defs||(accidental_sharp_defs=react.createElement("defs",{id:"defs3111"})),react.createElement("text",{transform:"translate(-31.7747,-1.36)",fontSize:2.2001,id:"text3021",style:{fontSize:"2.20009995px",textAnchor:"start",fill:"currentColor",fontFamily:"Century Schoolbook L"}},_tspan||(_tspan=react.createElement("tspan",{id:"tspan3023"}))),react.createElement("path",{transform:"matrix(0.004,0,0,-0.004,0,1.5)",d:"m 216,-312 c 0,-10 -8,-19 -18,-19 -10,0 -19,9 -19,19 v 145 l -83,-31 v -158 c 0,-10 -9,-19 -19,-19 -10,0 -18,9 -18,19 v 145 l -32,-12 c -2,-1 -5,-1 -7,-1 -11,0 -20,9 -20,20 v 60 c 0,8 5,16 13,19 l 46,16 V 51 L 27,40 C 25,39 22,39 20,39 9,39 0,48 0,59 v 60 c 0,8 5,15 13,18 l 46,17 v 158 c 0,10 8,19 18,19 10,0 19,-9 19,-19 V 167 l 83,31 v 158 c 0,10 9,19 19,19 10,0 18,-9 18,-19 V 211 l 32,12 c 2,1 5,1 7,1 11,0 20,-9 20,-20 v -60 c 0,-8 -5,-16 -13,-19 L 216,109 V -51 l 32,11 c 2,1 5,1 7,1 11,0 20,-9 20,-20 v -60 c 0,-8 -5,-15 -13,-18 l -46,-17 V -312 z M 96,65 V -95 l 83,30 V 95 z",id:"path3037",style:{fill:"currentColor"}}))}var accidental_flat_defs,accidental_flat_tspan,accidental_sharp_ForwardRef=react.forwardRef(SvgAccidentalSharp),accidental_flat_excluded=(__webpack_require__.p,["title","titleId"]);function accidental_flat_extends(){return accidental_flat_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},accidental_flat_extends.apply(this,arguments)}function accidental_flat_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function accidental_flat_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SvgAccidentalFlat(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=accidental_flat_objectWithoutProperties(_ref,accidental_flat_excluded);return react.createElement("svg",accidental_flat_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0.90800003 2.5119999",id:"svg3019",ref:svgRef,"aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,accidental_flat_defs||(accidental_flat_defs=react.createElement("defs",{id:"defs3111"})),react.createElement("text",{transform:"translate(-24.0348,-1)",fontSize:2.2001,id:"text3021",style:{fontSize:"2.20009995px",textAnchor:"start",fill:"currentColor",fontFamily:"Century Schoolbook L"}},accidental_flat_tspan||(accidental_flat_tspan=react.createElement("tspan",{id:"tspan3023"}))),react.createElement("path",{transform:"matrix(0.004,0,0,-0.004,0.108,1.86)",d:"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z",id:"path3089",style:{fill:"currentColor"}}))}var accidental_flat_ForwardRef=react.forwardRef(SvgAccidentalFlat),StyledRoot=(__webpack_require__.p,(0,emotion_styled_browser_esm.Z)("div")((function(props){return{display:"flex",flexDirection:"column",border:"1px solid black",borderBottom:"0px solid black",borderTop:"none",width:"".concat(props.width,"px"),height:"".concat(props.height,"px"),position:"relative"}}))),WhiteBar=(0,emotion_styled_browser_esm.Z)("div")({height:"25%",width:"100%",backgroundColor:"white"}),BlackLine=(0,emotion_styled_browser_esm.Z)("div")({minHeight:"1px",height:"1%",width:"100%",backgroundColor:"black"}),WholeNote=(0,emotion_styled_browser_esm.Z)(ForwardRef)((function(props){return{color:"black",position:"absolute",transform:"translate(-50%, -50%)",width:"auto",height:"25%",left:"".concat(props.left,"%"),top:"".concat(props.top,"%"),backgroundImage:props.linehint?"linear-gradient(black, black)":"",backgroundRepeat:"no-repeat",backgroundSize:"125% 1px",backgroundPosition:"-10px ".concat(props.linehint)}})),SharpComponent=(0,emotion_styled_browser_esm.Z)(accidental_sharp_ForwardRef)((function(props){return{position:"absolute",transform:"translate(-50%, -50%)",height:"".concat(props.height/12,"rem"),width:"auto",left:"".concat(props.left,"%"),top:"".concat(props.top,"%")}})),FlatComponent=(0,emotion_styled_browser_esm.Z)(accidental_flat_ForwardRef)((function(props){return{position:"absolute",transform:"translate(-50%, -75%)",height:"".concat(props.height/12,"rem"),width:"auto",left:"".concat(props.left,"%"),top:"".concat(props.top,"%")}}));try{StyledRoot.displayName="StyledRoot",StyledRoot.__docgenInfo={description:"",displayName:"StyledRoot",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},noteColor:{defaultValue:null,description:"",name:"noteColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#StyledRoot"]={docgenInfo:StyledRoot.__docgenInfo,name:"StyledRoot",path:"src/components/measure/MeasureStyles.tsx#StyledRoot"})}catch(__react_docgen_typescript_loader_error){}try{WhiteBar.displayName="WhiteBar",WhiteBar.__docgenInfo={description:"",displayName:"WhiteBar",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#WhiteBar"]={docgenInfo:WhiteBar.__docgenInfo,name:"WhiteBar",path:"src/components/measure/MeasureStyles.tsx#WhiteBar"})}catch(__react_docgen_typescript_loader_error){}try{BlackLine.displayName="BlackLine",BlackLine.__docgenInfo={description:"",displayName:"BlackLine",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#BlackLine"]={docgenInfo:BlackLine.__docgenInfo,name:"BlackLine",path:"src/components/measure/MeasureStyles.tsx#BlackLine"})}catch(__react_docgen_typescript_loader_error){}try{WholeNote.displayName="WholeNote",WholeNote.__docgenInfo={description:"",displayName:"WholeNote",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#WholeNote"]={docgenInfo:WholeNote.__docgenInfo,name:"WholeNote",path:"src/components/measure/MeasureStyles.tsx#WholeNote"})}catch(__react_docgen_typescript_loader_error){}try{SharpComponent.displayName="SharpComponent",SharpComponent.__docgenInfo={description:"",displayName:"SharpComponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#SharpComponent"]={docgenInfo:SharpComponent.__docgenInfo,name:"SharpComponent",path:"src/components/measure/MeasureStyles.tsx#SharpComponent"})}catch(__react_docgen_typescript_loader_error){}try{FlatComponent.displayName="FlatComponent",FlatComponent.__docgenInfo={description:"",displayName:"FlatComponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/MeasureStyles.tsx#FlatComponent"]={docgenInfo:FlatComponent.__docgenInfo,name:"FlatComponent",path:"src/components/measure/MeasureStyles.tsx#FlatComponent"})}catch(__react_docgen_typescript_loader_error){}var Keys=__webpack_require__("./src/music/Keys.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Measure=function Measure(_ref){var _ref$clef=_ref.clef,clef=void 0===_ref$clef?"treble":_ref$clef,_ref$notes=_ref.notes,notes=void 0===_ref$notes?[]:_ref$notes,_ref$musicalKey=_ref.musicalKey,musicalKey=void 0===_ref$musicalKey?void 0:_ref$musicalKey,_ref$style=_ref.style,style=void 0===_ref$style?{width:400,height:150}:_ref$style,_ref$options=_ref.options,options=void 0===_ref$options?{upperNoteLimit:void 0,lowerNoteLimit:void 0}:_ref$options,formattedNotes=notes.filter((function(n){return!(null!=options&&options.upperNoteLimit)||n.isLowerThan(options.upperNoteLimit)})).filter((function(n){return!(null!=options&&options.lowerNoteLimit)||options.lowerNoteLimit.isLowerThan(n)})).map((function(n){return musicalKey?(0,Keys.hA)(n,musicalKey):n})),leftShiftedNoteIndex=[],noteComponents=(0,Note.xl)(formattedNotes).flatMap((function(n,i){var key="".concat((0,Note.K3)(n),"-note"),topOfStaff=(0,Note.St)("treble"===clef?"F5":"A3"),bottomOfStaff=(0,Note.St)("treble"===clef?"E4":"G2"),top=12.5*((0,Note.Z9)(topOfStaff,n)-1);topOfStaff.isLowerThan(n)&&(top=-top);var accidental,lineHint,left=50;if(leftShiftedNoteIndex.includes(i)?left=40:void 0!==(null==formattedNotes?void 0:formattedNotes[i+1])&&2===(0,Note.Z9)(n,formattedNotes[i+1])&&leftShiftedNoteIndex.push(i+1),null!=n&&n.accidental){var aKey="".concat((0,Note.K3)(n),"-accidental"),Accidental=lodash_default().isEqual(n.accidental,Note.Zz)?FlatComponent:SharpComponent,neighborsAreShifted=leftShiftedNoteIndex.map((function(i){return formattedNotes[i]})).some((function(o){return 2===(0,Note.Z9)(n,o)}));accidental=(0,jsx_runtime.jsx)(Accidental,{"data-testid":aKey,height:(null==style?void 0:style.height)/4,top:top,left:neighborsAreShifted?left+10:left-10},aKey)}return lineHint=n.isLowerThan(bottomOfStaff)?(0,Note.Z9)(bottomOfStaff,n)%2==0?"bottom":"center":topOfStaff.isLowerThan(n)?(0,Note.Z9)(bottomOfStaff,n)%2==0?"top":"center":void 0,[(0,jsx_runtime.jsx)(WholeNote,{"data-testid":key,top:top,left:left,linehint:lineHint},key),accidental]}));return(0,jsx_runtime.jsxs)(StyledRoot,{width:style.width,height:style.height,children:[noteComponents,(0,jsx_runtime.jsx)(BlackLine,{}),(0,jsx_runtime.jsx)(WhiteBar,{}),(0,jsx_runtime.jsx)(BlackLine,{}),(0,jsx_runtime.jsx)(WhiteBar,{}),(0,jsx_runtime.jsx)(BlackLine,{}),(0,jsx_runtime.jsx)(WhiteBar,{}),(0,jsx_runtime.jsx)(BlackLine,{}),(0,jsx_runtime.jsx)(WhiteBar,{}),(0,jsx_runtime.jsx)(BlackLine,{})]})};try{Measure.displayName="Measure",Measure.__docgenInfo={description:"",displayName:"Measure",props:{clef:{defaultValue:{value:"treble"},description:"",name:"clef",required:!1,type:{name:"enum",value:[{value:'"treble"'},{value:'"bass"'}]}},notes:{defaultValue:{value:"[]"},description:"",name:"notes",required:!1,type:{name:"Note[]"}},musicalKey:{defaultValue:{value:"undefined"},description:"",name:"musicalKey",required:!1,type:{name:"Key"}},style:{defaultValue:{value:"{\r\n                            width: 400,\r\n                            height: 150,\r\n                          }"},description:"",name:"style",required:!1,type:{name:"MeasureStyles"}},options:{defaultValue:{value:"{\r\n                            upperNoteLimit: undefined,\r\n                            lowerNoteLimit: undefined\r\n                          }"},description:"",name:"options",required:!1,type:{name:"MeasureOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/measure/Measure.tsx#Measure"]={docgenInfo:Measure.__docgenInfo,name:"Measure",path:"src/components/measure/Measure.tsx#Measure"})}catch(__react_docgen_typescript_loader_error){}var Chord=__webpack_require__("./src/music/Chord.tsx"),Measure_stories={title:"Measure",component:Measure,argTypes:{musicalKey:{options:Keys.A_,control:{type:"list"}}}},Container=(0,emotion_styled_browser_esm.Z)("div")({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"fit-content",height:"fit-content"}),BasicTemplate=function BasicTemplate(args){return(0,jsx_runtime.jsx)(Container,{children:(0,jsx_runtime.jsx)(Measure,(0,objectSpread2.Z)({style:{width:300,height:100}},args))})},Treble=BasicTemplate.bind({}),Bass=BasicTemplate.bind({}),Key=function KeyTemplate(args){var measures=Keys.A_.Db.diatonicChords.map(Chord.P7).map((function(notes){return(0,Note.Pu)(4,notes)})).map((function(notes){return(0,Keys.vu)(notes,Keys.A_.Db)})).map((function(notes){return(0,jsx_runtime.jsx)(Measure,{style:{width:300,height:100},clef:"treble",notes:notes})}));return(0,jsx_runtime.jsx)(Container,{children:measures})}.bind({});Treble.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Container>\r\n  <Measure style={{width: 300, height: 100}} {...args} />\r\n</Container>"}},Treble.parameters),Bass.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Container>\r\n  <Measure style={{width: 300, height: 100}} {...args} />\r\n</Container>"}},Bass.parameters),Key.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => {\r\n  const measures = MAJOR_KEYS['Db'].diatonicChords.map(requiredNotesForChord)\r\n    .map((notes) => placeOnOctave(4, notes))\r\n    .map((notes) => formatNotesInKey(notes, MAJOR_KEYS['Db']))\r\n    .map((notes) => <Measure style={{width: 300, height: 100}} clef={'treble'} notes={notes}/>)\r\n\r\n  return <Container>\r\n    {measures}\r\n  </Container>\r\n}"}},Key.parameters);var __namedExportsOrder=["Treble","Bass","Key"]},"./src/components/staff/Staff.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EmptyBassStaff:function(){return EmptyBassStaff},EmptyTrebleStaff:function(){return EmptyTrebleStaff},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Staff_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),emotion_styled_browser_esm=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),Keys=__webpack_require__("./src/music/Keys.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Staff(_ref){var _ref$musicalKey=_ref.musicalKey;void 0===_ref$musicalKey&&Keys.A_.C,_ref.clef;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}try{Staff.displayName="Staff",Staff.__docgenInfo={description:"",displayName:"Staff",props:{musicalKey:{defaultValue:{value:"MAJOR_KEYS['C']"},description:"",name:"musicalKey",required:!1,type:{name:"Key"}},clef:{defaultValue:{value:"treble"},description:"",name:"clef",required:!1,type:{name:"enum",value:[{value:'"treble"'},{value:'"bass"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/staff/Staff.tsx#Staff"]={docgenInfo:Staff.__docgenInfo,name:"Staff",path:"src/components/staff/Staff.tsx#Staff"})}catch(__react_docgen_typescript_loader_error){}var Staff_stories={title:"Staff",component:Staff},Container=(0,emotion_styled_browser_esm.Z)("div")({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"fit-content",height:"fit-content"}),BasicTemplate=function BasicTemplate(args){return(0,jsx_runtime.jsx)(Container,{children:(0,jsx_runtime.jsx)(Staff,(0,objectSpread2.Z)({},args))})},EmptyTrebleStaff=BasicTemplate.bind({}),EmptyBassStaff=BasicTemplate.bind({});EmptyTrebleStaff.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Container>\r\n  <Staff {...args} />\r\n</Container>"}},EmptyTrebleStaff.parameters),EmptyBassStaff.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <Container>\r\n  <Staff {...args} />\r\n</Container>"}},EmptyBassStaff.parameters);var __namedExportsOrder=["EmptyTrebleStaff","EmptyBassStaff"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/music/Chord.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P7:function(){return requiredNotesForChord},pP:function(){return toChord}});var _Note__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/music/Note.tsx"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),toSymbol=function toSymbol(c){var _c$accidental,quality="";switch(c.quality){case"Diminished":quality="dim";break;case"Minor":quality="m";break;case"Augmented":quality="aug"}var seventh="";switch(c.seventh){case"Major":"Diminished"===c.quality?(seventh="ø7",quality=""):seventh="Minor"!==c.quality?"M7":"7";break;case"Minor":"Diminished"===c.quality?(seventh="o7",quality=""):seventh="7"}return"".concat(c.root).concat((null===(_c$accidental=c.accidental)||void 0===_c$accidental?void 0:_c$accidental.symbol)||"").concat(quality).concat(seventh)},toChord=function toChord(symbol){if(![/^[a-gA-G][#b]?(?:dim|m|aug)?$/g,/^[a-gA-G][#b]?(?:m|M|o|\u00f8|maj|dim)?7(b5)?$/g].find((function(e){return e.test(symbol)})))throw new Error("invalid chord symbol format ".concat(symbol));var rootAccidental,seventh,root=symbol.charAt(0);(0,_Note__WEBPACK_IMPORTED_MODULE_0__.YT)(symbol)&&("b"===symbol.charAt(1)?rootAccidental=_Note__WEBPACK_IMPORTED_MODULE_0__.Zz:"#"===symbol.charAt(1)&&(rootAccidental=_Note__WEBPACK_IMPORTED_MODULE_0__.az));var quality="Major";if(symbol.includes("7"))if(symbol.includes("maj"))quality="Major",seventh="Major";else if(/[mMo\u00f8]/g.test(symbol)){var a=symbol.charAt(symbol.length-2);"ø"===a||symbol.includes("b5")?(seventh="Major",quality="Diminished"):"M"===a||"maj"===a?(seventh="Major",quality="Major"):"o"===a?(seventh="Minor",quality="Diminished"):"m"===a&&(seventh="Minor",quality="Minor")}else seventh="Minor",quality="Major";else quality=symbol.includes("dim")?"Diminished":symbol.includes("m")?"Minor":symbol.includes("aug")?"Augmented":"Major";return{root:root,quality:quality,accidental:rootAccidental,seventh:seventh}},requiredNotesForChord=function requiredNotesForChord(c){var semitones=[];switch(c.quality){case"Diminished":semitones.push(3,3);break;case"Minor":semitones.push(3,4);break;case"Major":semitones.push(4,3);break;case"Augmented":semitones.push(4,4)}switch(c.seventh){case"Major":semitones.push(4);break;case"Minor":semitones.push(3)}var requiredNotes=[(0,_Note__WEBPACK_IMPORTED_MODULE_0__._m)(new _Note__WEBPACK_IMPORTED_MODULE_0__.jC(c.root,c.accidental))];return semitones.forEach((function(s){var previousNoteIndex=_Note__WEBPACK_IMPORTED_MODULE_0__.sd.findIndex((function(k){var previousNote=requiredNotes[requiredNotes.length-1];return lodash__WEBPACK_IMPORTED_MODULE_1___default().isEqual(k.root,previousNote.root)&&lodash__WEBPACK_IMPORTED_MODULE_1___default().isEqual(k.accidental,previousNote.accidental)}));if(-1!==previousNoteIndex){var copy=_Note__WEBPACK_IMPORTED_MODULE_0__.sd[previousNoteIndex+s],note=new _Note__WEBPACK_IMPORTED_MODULE_0__.jC(copy.root,copy.accidental);requiredNotes.push(note)}})),requiredNotes};try{toSymbol.displayName="toSymbol",toSymbol.__docgenInfo={description:"",displayName:"toSymbol",props:{root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"enum",value:[{value:'"A"'},{value:'"B"'},{value:'"C"'},{value:'"D"'},{value:'"E"'},{value:'"F"'},{value:'"G"'}]}},quality:{defaultValue:null,description:"",name:"quality",required:!0,type:{name:"enum",value:[{value:'"Major"'},{value:'"Minor"'},{value:'"Augmented"'},{value:'"Diminished"'}]}},accidental:{defaultValue:null,description:"",name:"accidental",required:!1,type:{name:"Accidental"}},seventh:{defaultValue:null,description:"",name:"seventh",required:!1,type:{name:"enum",value:[{value:'"Major"'},{value:'"Minor"'},{value:'"Half-Diminished"'}]}},bassNote:{defaultValue:null,description:"",name:"bassNote",required:!1,type:{name:"Note"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Chord.tsx#toSymbol"]={docgenInfo:toSymbol.__docgenInfo,name:"toSymbol",path:"src/music/Chord.tsx#toSymbol"})}catch(__react_docgen_typescript_loader_error){}try{toChord.displayName="toChord",toChord.__docgenInfo={description:"",displayName:"toChord",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Chord.tsx#toChord"]={docgenInfo:toChord.__docgenInfo,name:"toChord",path:"src/music/Chord.tsx#toChord"})}catch(__react_docgen_typescript_loader_error){}try{requiredNotesForChord.displayName="requiredNotesForChord",requiredNotesForChord.__docgenInfo={description:"Returns the standardized required notes for a chord (all sharps)",displayName:"requiredNotesForChord",props:{root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"enum",value:[{value:'"A"'},{value:'"B"'},{value:'"C"'},{value:'"D"'},{value:'"E"'},{value:'"F"'},{value:'"G"'}]}},quality:{defaultValue:null,description:"",name:"quality",required:!0,type:{name:"enum",value:[{value:'"Major"'},{value:'"Minor"'},{value:'"Augmented"'},{value:'"Diminished"'}]}},accidental:{defaultValue:null,description:"",name:"accidental",required:!1,type:{name:"Accidental"}},seventh:{defaultValue:null,description:"",name:"seventh",required:!1,type:{name:"enum",value:[{value:'"Major"'},{value:'"Minor"'},{value:'"Half-Diminished"'}]}},bassNote:{defaultValue:null,description:"",name:"bassNote",required:!1,type:{name:"Note"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Chord.tsx#requiredNotesForChord"]={docgenInfo:requiredNotesForChord.__docgenInfo,name:"requiredNotesForChord",path:"src/music/Chord.tsx#requiredNotesForChord"})}catch(__react_docgen_typescript_loader_error){}},"./src/music/Keys.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A_:function(){return MAJOR_KEYS},hA:function(){return formatNoteInKey},vu:function(){return formatNotesInKey}});var _Chord__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/music/Chord.tsx"),_Note__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/music/Note.tsx"),MAJOR_KEYS={Cb:{notes:["Cb","Db","Eb","Fb","Gb","Ab","Bb"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},Gb:{notes:["Gb","Ab","Bb","Cb","Db","Eb","F"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},Db:{notes:["Db","Eb","F","Gb","Ab","Bb","C"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Dbmaj7","Ebm7","Fm7","Gbmaj7","Ab7","Bbm7","Cm7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},Ab:{notes:["Ab","Bb","C","Db","Eb","F","G"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[]},Eb:{notes:["Eb","F","G","Ab","Bb","C","D"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[]},Bb:{notes:["Bb","C","D","Eb","F","G","A"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Bbmaj","Cm7","Dm7","F7","Gm7","Am7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},F:{notes:["F","G","A","Bb","C","D","E"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Fmaj7","Gm7","Am7","Bbmaj7","C7","Dm7","Em7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},C:{notes:["C","D","E","F","G","A","B"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Cmaj7","Dm7","Em7","Fmaj7","G7","Am7","B"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},G:{notes:["G","A","B","C","D","E","F#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Gmaj7","Am7","Bm7","Cmaj7","D7","Em7","F#7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},D:{notes:["D","E","F#","G","A","B","C#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Dmaj7","Em7","F#m7","Gmaj7","A7","Bm7","C#7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},A:{notes:["A","B","C#","D","E","F#","G#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},E:{notes:["E","F#","G#","A","B","C#","D#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:["Emaj7","F#m7","G#m7","Amaj7","B7","C#m7","D#m7b5"].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},B:{notes:["B","C#","D#","E","F#","G#","A#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},"F#":{notes:["F#","G#","A#","B","C#","D#","E#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)},"C#":{notes:["C#","D#","E#","F#","G#","A#","B#"].map(_Note__WEBPACK_IMPORTED_MODULE_1__.St),quality:"major",diatonicChords:[].map(_Chord__WEBPACK_IMPORTED_MODULE_0__.pP)}},allRoots=((0,_Note__WEBPACK_IMPORTED_MODULE_1__.St)("G"),MAJOR_KEYS.Bb.diatonicChords,["A","B","C","D","E","F","G"]),formatNoteInKey=function formatNoteInKey(note,key){if(key.notes.some((function(n){return note.equalsWithoutOctave(n)})))return note;if(!note.accidental)throw new Error("natural is unimplemented");var newIndex,rootIndex=allRoots.indexOf(note.root);newIndex=rootIndex+note.accidental.mod<=0?allRoots.length-1:rootIndex+note.accidental.mod>=allRoots.length?0:rootIndex+note.accidental.mod;var newRoot=allRoots[newIndex],newOctave=note.octave;!note.octave||"C"!==note.root&&"C"!==newRoot||("C"===note.root&&"B"===newRoot?newOctave=note.octave-1:"C"===newRoot&&"B"===note.root&&(newOctave=note.octave+1));var newAccidental=note.accidental===_Note__WEBPACK_IMPORTED_MODULE_1__.Zz?_Note__WEBPACK_IMPORTED_MODULE_1__.az:_Note__WEBPACK_IMPORTED_MODULE_1__.Zz;return new _Note__WEBPACK_IMPORTED_MODULE_1__.jC(newRoot,newAccidental,newOctave)},formatNotesInKey=function formatNotesInKey(notes,key){return notes.map((function(n){return formatNoteInKey(n,key)}))}},"./src/music/Note.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K3:function(){return noteToSymbol},Pu:function(){return placeOnOctave},St:function(){return toNote},YT:function(){return hasAccidental},Z9:function(){return genericInterval},Zz:function(){return FLAT},_m:function(){return standardizeNote},az:function(){return SHARP},jC:function(){return Note},sd:function(){return KEYBOARD},xl:function(){return sortNotes}});var _home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),Note=function(){function Note(root,accidental,octave){(0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.Z)(this,Note),this.root=void 0,this.accidental=void 0,this.octave=void 0,this.root=root,this.accidental=accidental,this.octave=octave}return(0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Note,[{key:"isLowerThan",value:function isLowerThan(other){return lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(lowerNote(this,other),this)}},{key:"equalsWithoutOctave",value:function equalsWithoutOctave(other){return lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual((0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},other),{},{octave:void 0}),(0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_luke_workspace_chord_notation_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},this),{},{octave:void 0}))}}]),Note}(),SHARP={symbol:"#",mod:1},FLAT={symbol:"b",mod:-1},hasAccidental=function hasAccidental(s){return s.includes("#")||s.includes("b")},noteToSymbol=function noteToSymbol(n){var _n$accidental;return"".concat(n.root).concat((null==n||null===(_n$accidental=n.accidental)||void 0===_n$accidental?void 0:_n$accidental.symbol)||"").concat(n.octave||"")},toNote=function toNote(s){if(!/^[a-gA-G][#b]?[0-8]?$/g.test(s))throw new Error("invalid note format ".concat(s));var accidental,octave,root=s.charAt(0);if(1===s.length)return new Note(root);hasAccidental(s)&&(accidental="b"===s.charAt(1)?{symbol:"b",mod:-1}:{symbol:"#",mod:1});return/[0-9]/g.test(s)&&!accidental?octave=parseInt(s.charAt(1)):/[0-9]/g.test(s)&&accidental&&(octave=parseInt(s.charAt(2))),new Note(root,accidental,octave)},notesFromLowestToHighest=["C","D","E","F","G","A","B"],lowerNote=function lowerNote(a,b){if(void 0===a.octave||void 0===b.octave)throw new Error("cannot compare notes without octaves");if(a.octave>b.octave)return b;if(b.octave>a.octave)return a;var _a$accidental,_b$accidental,aValue=notesFromLowestToHighest.indexOf(a.root),bValue=notesFromLowestToHighest.indexOf(b.root);return aValue>bValue?b:bValue>aValue?a:(aValue=(null==a||null===(_a$accidental=a.accidental)||void 0===_a$accidental?void 0:_a$accidental.mod)||0)>(bValue=(null==b||null===(_b$accidental=b.accidental)||void 0===_b$accidental?void 0:_b$accidental.mod)||0)?b:a},sortNotes=function sortNotes(notes){return notes.sort((function(a,b){return a.isLowerThan(b)?-1:1}))},notesToString=function notesToString(notes){return notes.map((function(n){var _n$accidental2;return"".concat(n.root).concat((null===(_n$accidental2=n.accidental)||void 0===_n$accidental2?void 0:_n$accidental2.symbol)||"").concat((null==n?void 0:n.octave)||"")})).join(", ")},standardizeNote=function standardizeNote(n){if(lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(n.accidental,FLAT)){var newRoot="A"===n.root?String.fromCharCode(71):String.fromCharCode(n.root.charCodeAt(0)-1),newOctave="C"===n.root&&n.octave?n.octave-1:n.octave,newAccidental=void 0;return"E"!==newRoot&&"B"!==newRoot&&(newAccidental=SHARP),new Note(newRoot,newAccidental,newOctave)}if(!lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(n.accidental,SHARP)||"B"!==n.root&&"E"!==n.root)return n;var _newRoot=String.fromCharCode(n.root.charCodeAt(0)+1),_newOctave="C"===_newRoot&&n.octave?n.octave+1:n.octave;return new Note(_newRoot,void 0,_newOctave)},KEYBOARD=["A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8"].map(toNote),genericInterval=function genericInterval(n1a,n2a){if(void 0===(null==n1a?void 0:n1a.octave)||void 0===(null==n2a?void 0:n2a.octave))throw new Error("cannot calculate generic interval without octave information");var n1=new Note(n1a.root,void 0,n1a.octave),n2=new Note(n2a.root,void 0,n2a.octave);if(lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(n1,n2))return 1;var i1=KEYBOARD.findIndex((function(n){return lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(standardizeNote(n1),n)})),i2=KEYBOARD.findIndex((function(n){return lodash__WEBPACK_IMPORTED_MODULE_0___default().isEqual(standardizeNote(n2),n)}));return(i1<i2?KEYBOARD.slice(i1,i2+1):KEYBOARD.slice(i2,i1+1)).filter((function(n){return!n.accidental})).length},placeOnOctave=function placeOnOctave(octave,notes){var currentOctave=octave;return notes.map((function(n,i){0!==i&&(new Note(n.root,n.accidental,octave).isLowerThan(notes[i-1])&&currentOctave++);return n.octave=currentOctave,n}))};try{hasAccidental.displayName="hasAccidental",hasAccidental.__docgenInfo={description:"",displayName:"hasAccidental",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#hasAccidental"]={docgenInfo:hasAccidental.__docgenInfo,name:"hasAccidental",path:"src/music/Note.tsx#hasAccidental"})}catch(__react_docgen_typescript_loader_error){}try{noteToSymbol.displayName="noteToSymbol",noteToSymbol.__docgenInfo={description:"",displayName:"noteToSymbol",props:{root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"enum",value:[{value:'"A"'},{value:'"B"'},{value:'"C"'},{value:'"D"'},{value:'"E"'},{value:'"F"'},{value:'"G"'}]}},accidental:{defaultValue:null,description:"",name:"accidental",required:!1,type:{name:"Accidental"}},octave:{defaultValue:null,description:"",name:"octave",required:!1,type:{name:"number"}},isLowerThan:{defaultValue:null,description:"",name:"isLowerThan",required:!0,type:{name:"(other: Note) => boolean"}},equalsWithoutOctave:{defaultValue:null,description:"",name:"equalsWithoutOctave",required:!0,type:{name:"(other: Note) => boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#noteToSymbol"]={docgenInfo:noteToSymbol.__docgenInfo,name:"noteToSymbol",path:"src/music/Note.tsx#noteToSymbol"})}catch(__react_docgen_typescript_loader_error){}try{toNote.displayName="toNote",toNote.__docgenInfo={description:"",displayName:"toNote",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#toNote"]={docgenInfo:toNote.__docgenInfo,name:"toNote",path:"src/music/Note.tsx#toNote"})}catch(__react_docgen_typescript_loader_error){}try{sortNotes.displayName="sortNotes",sortNotes.__docgenInfo={description:"Lowest to highest",displayName:"sortNotes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#sortNotes"]={docgenInfo:sortNotes.__docgenInfo,name:"sortNotes",path:"src/music/Note.tsx#sortNotes"})}catch(__react_docgen_typescript_loader_error){}try{notesToString.displayName="notesToString",notesToString.__docgenInfo={description:"",displayName:"notesToString",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#notesToString"]={docgenInfo:notesToString.__docgenInfo,name:"notesToString",path:"src/music/Note.tsx#notesToString"})}catch(__react_docgen_typescript_loader_error){}try{standardizeNote.displayName="standardizeNote",standardizeNote.__docgenInfo={description:"Standardize all notes onto the same notation that the keyboard uses",displayName:"standardizeNote",props:{root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"enum",value:[{value:'"A"'},{value:'"B"'},{value:'"C"'},{value:'"D"'},{value:'"E"'},{value:'"F"'},{value:'"G"'}]}},accidental:{defaultValue:null,description:"",name:"accidental",required:!1,type:{name:"Accidental"}},octave:{defaultValue:null,description:"",name:"octave",required:!1,type:{name:"number"}},isLowerThan:{defaultValue:null,description:"",name:"isLowerThan",required:!0,type:{name:"(other: Note) => boolean"}},equalsWithoutOctave:{defaultValue:null,description:"",name:"equalsWithoutOctave",required:!0,type:{name:"(other: Note) => boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#standardizeNote"]={docgenInfo:standardizeNote.__docgenInfo,name:"standardizeNote",path:"src/music/Note.tsx#standardizeNote"})}catch(__react_docgen_typescript_loader_error){}try{KEYBOARD.displayName="KEYBOARD",KEYBOARD.__docgenInfo={description:"A physical representation of a keyboard",displayName:"KEYBOARD",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/music/Note.tsx#KEYBOARD"]={docgenInfo:KEYBOARD.__docgenInfo,name:"KEYBOARD",path:"src/music/Note.tsx#KEYBOARD"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/measure sync ^\\.[\\\\/](?:Measure\\.stories\\.tsx)$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./Measure.stories.tsx":"./src/components/measure/Measure.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src/components/measure sync ^\\.[\\\\/](?:Measure\\.stories\\.tsx)$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./components/game/Game.stories.tsx":"./src/components/game/Game.stories.tsx","./components/measure/Measure.stories.tsx":"./src/components/measure/Measure.stories.tsx","./components/staff/Staff.stories.tsx":"./src/components/staff/Staff.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.@mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.@mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.@mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"),__webpack_require__("./src/components/measure sync ^\\.[\\\\/](?:Measure\\.stories\\.tsx)$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[729],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);